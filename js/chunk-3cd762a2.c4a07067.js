(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3cd762a2"],{"07a3":function(t,e,a){},"0f82":function(t,e,a){"use strict";a("07a3")},1511:function(t,e,a){"use strict";a.r(e);var c=a("7a23");Object(c["x"])("data-v-36b5f02e");var n={class:"user-wrapper"},d={class:"user-container"},r={class:"tab"},s=Object(c["g"])("span",null,"用戶資料",-1),i=[s],l=Object(c["g"])("span",null,"追蹤商品",-1),b=[l],f={class:"tab-content"};function u(t,e,a,s,l,u){var o=Object(c["C"])("UserProfile"),v=Object(c["C"])("UserOrder"),O=Object(c["C"])("UserMessage"),j=Object(c["C"])("UserTrack");return Object(c["u"])(),Object(c["f"])("div",n,[Object(c["g"])("div",d,[Object(c["g"])("div",r,[Object(c["g"])("ul",null,[Object(c["g"])("li",{onClick:e[0]||(e[0]=function(t){return l.action="profile"}),class:Object(c["p"])("profile"===l.action?"active":"inactive")},i,2),Object(c["g"])("li",{onClick:e[1]||(e[1]=function(t){return l.action="track"}),class:Object(c["p"])("track"===l.action?"active":"inactive")},b,2)])]),Object(c["g"])("div",f,["profile"===l.action?(Object(c["u"])(),Object(c["d"])(o,{key:0})):"order"===l.action?(Object(c["u"])(),Object(c["d"])(v,{key:1})):"message"===l.action?(Object(c["u"])(),Object(c["d"])(O,{key:2})):(Object(c["u"])(),Object(c["d"])(j,{key:3}))])])])}Object(c["v"])();a("b0c0");Object(c["x"])("data-v-51f6e116");var o={class:"profile-wrap"},v=Object(c["g"])("h2",null,[Object(c["g"])("span",{class:"profile-title"},"編輯個人資料")],-1),O={class:"profile-contianer"},j=Object(c["g"])("label",{for:"user-name"},"用戶姓名",-1),h=Object(c["g"])("label",null,"電子郵件",-1),p=Object(c["g"])("label",{for:"user-phone"},"連絡電話",-1),g=Object(c["g"])("label",{for:"user-address"},"儲存的地址",-1),m={class:"reset-pwd-content"},k=Object(c["g"])("label",null,"更改密碼",-1),C={class:"btn-box"};function I(t,e,a,n,d,r){return Object(c["u"])(),Object(c["f"])("div",o,[v,Object(c["g"])("div",O,[Object(c["g"])("div",null,[j,Object(c["O"])(Object(c["g"])("input",{type:"text",id:"user-name","onUpdate:modelValue":e[0]||(e[0]=function(t){return d.user.name=t})},null,512),[[c["J"],d.user.name]])]),Object(c["g"])("div",null,[h,Object(c["g"])("span",null,Object(c["F"])(d.user.email),1)]),Object(c["g"])("div",null,[p,Object(c["O"])(Object(c["g"])("input",{type:"text",id:"user-phone","onUpdate:modelValue":e[1]||(e[1]=function(t){return d.user.phone=t})},null,512),[[c["J"],d.user.phone]])]),Object(c["g"])("div",null,[g,Object(c["O"])(Object(c["g"])("input",{type:"text",id:"user-address","onUpdate:modelValue":e[2]||(e[2]=function(t){return d.user.address=t}),placeholder:"新增送貨地址"},null,512),[[c["J"],d.user.address]])]),Object(c["g"])("div",m,[k,Object(c["g"])("span",{onClick:e[3]||(e[3]=function(){return r.sendPasswordResetEmail&&r.sendPasswordResetEmail.apply(r,arguments)})},"發送密碼重置郵件")]),Object(c["g"])("div",C,[Object(c["g"])("button",{id:"profile-save-btn",onClick:e[4]||(e[4]=function(){return r.saveProfile&&r.saveProfile.apply(r,arguments)})},"儲存"),Object(c["g"])("button",{id:"user-signout",onClick:e[5]||(e[5]=function(){return r.signout&&r.signout.apply(r,arguments)})},"登出")])])])}Object(c["v"])();a("159b");var w=a("ea7b"),y=a("e71f"),U=a("ee2e"),P={name:"UserProfile",data:function(){return{user:{id:null,name:null,email:null,address:null,phone:null}}},created:function(){var t=this,e=U["a"].currentUser;if(e){var a=e.email;this.user.email=a;var c=Object(y["h"])(Object(y["b"])(U["b"],"users"),Object(y["j"])("email","==",a));Object(y["f"])(c).then((function(e){e.forEach((function(e){var a=e.data();t.user.id=e.id,t.user.name=a.name,t.user.address=a.address,t.user.phone=a.phone}))}))}else console.log("無人登入!")},methods:{saveProfile:function(){var t=Object(y["d"])(U["b"],"users",this.user.id),e={name:this.user.name,address:this.user.address,phone:this.user.phone};Object(y["i"])(t,e,{merge:!0}).then((function(){alert("會員資料成功改寫!")}))},signout:function(){var t=this;Object(w["f"])(U["a"]).then((function(){alert("會員已登出"),t.$store.commit("setCart",0),t.$router.push("/login")})).catch((function(t){console.log(t)}))},sendPasswordResetEmail:function(){var t=this;Object(w["d"])(U["a"],this.user.email).then((function(){alert("已傳送至"+t.user.email+"信箱中")}))}}};a("0f82");P.render=I,P.__scopeId="data-v-51f6e116";var x=P;Object(c["x"])("data-v-07b57faf");var E={class:"order-wrap"},_=Object(c["h"])('<table data-v-07b57faf><thead data-v-07b57faf><tr data-v-07b57faf><th class="title" data-v-07b57faf>訂單編號</th><th class="title" data-v-07b57faf>商品名稱</th><th class="title" data-v-07b57faf>數量</th><th class="title" data-v-07b57faf>下定日期</th><th class="title" data-v-07b57faf>進度</th><th class="title" data-v-07b57faf>付款方式</th><th class="title" data-v-07b57faf>總價</th></tr></thead><tbody data-v-07b57faf><tr data-v-07b57faf><td data-v-07b57faf>51239845</td><td data-v-07b57faf>色鉛筆</td><td data-v-07b57faf>5</td><td data-v-07b57faf>2021/12/10</td><td data-v-07b57faf>已到達物流中心</td><td data-v-07b57faf>信用卡已支付</td><td data-v-07b57faf>250</td></tr><tr data-v-07b57faf><td data-v-07b57faf>51239845</td><td data-v-07b57faf>色鉛筆</td><td data-v-07b57faf>5</td><td data-v-07b57faf>2021/12/10</td><td data-v-07b57faf>已到達物流中心</td><td data-v-07b57faf>信用卡已支付</td><td data-v-07b57faf>250</td></tr><tr data-v-07b57faf><td data-v-07b57faf>51239845</td><td data-v-07b57faf>色鉛筆</td><td data-v-07b57faf>5</td><td data-v-07b57faf>2021/12/10</td><td data-v-07b57faf>已到達物流中心</td><td data-v-07b57faf>信用卡已支付</td><td data-v-07b57faf>250</td></tr><tr data-v-07b57faf><td data-v-07b57faf>51239845</td><td data-v-07b57faf>色鉛筆</td><td data-v-07b57faf>5</td><td data-v-07b57faf>2021/12/10</td><td data-v-07b57faf>已到達物流中心</td><td data-v-07b57faf>信用卡已支付</td><td data-v-07b57faf>250</td></tr></tbody></table>',1),D=[_];function J(t,e,a,n,d,r){return Object(c["u"])(),Object(c["f"])("div",E,D)}Object(c["v"])();var R={};a("d529");R.render=J,R.__scopeId="data-v-07b57faf";var F=R;function V(t,e,a,n,d,r){return Object(c["u"])(),Object(c["f"])("div",null,"132")}var $={};$.render=V;var A=$;Object(c["x"])("data-v-1b01409e");var M={class:"track-container"},T={class:"track-table"},B=Object(c["h"])('<li class="table-header" data-v-1b01409e><div class="col col-1" data-v-1b01409e>商品連結</div><div class="col col-2" data-v-1b01409e>商品名稱</div><div class="col col-3" data-v-1b01409e>單價</div><div class="col col-4" data-v-1b01409e>移除</div></li>',1),N={class:"item-container"},q=["id"],z={class:"col col-1"},G=["onClick"],H={class:"col col-2"},K={class:"col col-3"},L={class:"col col-4"},Q=["onClick"];function S(t,e,a,n,d,r){var s=Object(c["C"])("box-icon"),i=Object(c["D"])("ProdImg");return Object(c["u"])(),Object(c["f"])("div",M,[Object(c["g"])("ul",T,[B,Object(c["g"])("div",N,[(Object(c["u"])(!0),Object(c["f"])(c["a"],null,Object(c["A"])(d.items,(function(e,a){return Object(c["u"])(),Object(c["f"])("li",{class:"item-row",key:a,id:a},[Object(c["g"])("div",z,[Object(c["O"])(Object(c["g"])("img",{onClick:function(a){return t.productRouter(e.id)}},null,8,G),[[i,e.imgRef]])]),Object(c["g"])("div",H,Object(c["F"])(e.name),1),Object(c["g"])("div",K,"$ "+Object(c["F"])(e.price),1),Object(c["g"])("div",L,[Object(c["g"])("a",{onClick:function(t){return r.deleteItem(a)}},[Object(c["j"])(s,{name:"trash",color:"#464646"})],8,Q)])],8,q)})),128))])])])}Object(c["v"])();var W=a("fd03"),X=(a("3357"),{data:function(){return{userID:null,itemsID:[],items:[]}},created:function(){var t=this;Object(w["c"])(U["a"],(function(e){if(e){var a=Object(y["h"])(Object(y["b"])(U["b"],"users"),Object(y["j"])("email","==",e.email));Object(y["f"])(a).then((function(e){e.forEach((function(e){t.userID=e.id;var a=Object(y["b"])(U["b"],"users",e.id,"track");Object(y["f"])(a).then((function(e){e.forEach((function(e){t.itemsID.push(e.id),t.items.push(e.data())}))}))}))}))}else console.log("尚未登入")}))},methods:{deleteItem:function(t){var e=this,a=document.getElementById(t);a.remove(),Object(y["c"])(Object(y["d"])(U["b"],"users",this.userID,"track",this.itemsID[t])).then((function(){e.items[t]=""}))}},directives:{ProdImg:function(t,e){var a=e.value;Object(W["b"])(a).then((function(e){t.src=e}))}}});a("9aa7");X.render=S,X.__scopeId="data-v-1b01409e";var Y=X,Z={data:function(){return{action:"profile",userName:null,userEmail:null,userAddress:null,userPhone:null}},components:{UserProfile:x,UserOrder:F,UserMessage:A,UserTrack:Y}};a("f7f5");Z.render=u,Z.__scopeId="data-v-36b5f02e";e["default"]=Z},2875:function(t,e,a){},"72a2":function(t,e,a){},"9aa7":function(t,e,a){"use strict";a("c904")},c904:function(t,e,a){},d529:function(t,e,a){"use strict";a("2875")},f7f5:function(t,e,a){"use strict";a("72a2")}}]);
//# sourceMappingURL=chunk-3cd762a2.c4a07067.js.map