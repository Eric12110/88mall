(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0821d4a6"],{"0b1f":function(e,t,n){},"62bc":function(e,t,n){"use strict";n("0b1f")},"8dd1":function(e,t,n){e.exports=n.p+"img/undraw_remotely_2j6y.bad19771.svg"},a55b:function(e,t,n){"use strict";n.r(t);n("b0c0");var i=n("7a23"),a=n("8dd1"),r=n.n(a);Object(i["x"])("data-v-9e7a222a");var c={class:"login-container"},o=Object(i["g"])("div",{class:"left"},[Object(i["g"])("img",{src:r.a,alt:""})],-1),l={class:"login-content"},s={class:"tab"},u={class:"form-container"},g={key:0,class:"login-form"},d=Object(i["g"])("span",{class:"title"},"登入",-1),b={key:1,class:"register-form"},p=Object(i["g"])("span",{class:"title"},"註冊",-1);function O(e,t,n,a,r,O){var f=this;return Object(i["u"])(),Object(i["f"])("div",c,[o,Object(i["g"])("div",l,[Object(i["g"])("ul",s,[Object(i["g"])("li",{onClick:t[0]||(t[0]=function(e){return r.action="register"}),class:Object(i["p"])("register"===r.action?"active":"inactive")},"用戶註冊",2),Object(i["g"])("li",{onClick:t[1]||(t[1]=function(e){return r.action="login"}),class:Object(i["p"])("login"===r.action?"active":"inactive")},"用戶登入",2)]),Object(i["g"])("div",u,["login"===r.action?(Object(i["u"])(),Object(i["f"])("div",g,[d,Object(i["O"])(Object(i["g"])("p",null,"*電子郵件無效!",512),[[i["K"],r.emailWrong]]),Object(i["O"])(Object(i["g"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return r.login.email=e}),onKeyup:t[3]||(t[3]=Object(i["P"])((function(){return O.userLogin&&O.userLogin.apply(O,arguments)}),["enter"])),placeholder:"電子郵件"},null,544),[[i["J"],r.login.email]]),Object(i["O"])(Object(i["g"])("p",null,"*密碼錯誤!",512),[[i["K"],r.pdWrong]]),Object(i["O"])(Object(i["g"])("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=function(e){return r.login.password=e}),onKeyup:t[5]||(t[5]=Object(i["P"])((function(){return O.userLogin&&O.userLogin.apply(O,arguments)}),["enter"])),placeholder:"密碼"},null,544),[[i["J"],r.login.password]]),Object(i["g"])("button",{class:"loginBtn",onClick:t[6]||(t[6]=function(){return O.userLogin&&O.userLogin.apply(O,arguments)})},"登入"),Object(i["g"])("span",{class:"forgetPwd",onClick:t[7]||(t[7]=function(e){return f.$router.push("/forgetPwd")})},"忘記密碼?"),Object(i["g"])("span",{onClick:t[8]||(t[8]=function(t){return e.$router.push("/admin/product")}),id:"admin"},"進入後台管理")])):(Object(i["u"])(),Object(i["f"])("div",b,[p,Object(i["O"])(Object(i["g"])("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=function(e){return r.register.name=e}),placeholder:"名字"},null,512),[[i["J"],r.register.name]]),Object(i["O"])(Object(i["g"])("p",null,"*電子郵件必須含有@或.",512),[[i["K"],r.emailInvalid]]),Object(i["O"])(Object(i["g"])("p",null,"電子郵件已被註冊過!",512),[[i["K"],r.emailRegisted]]),Object(i["O"])(Object(i["g"])("input",{type:"email","onUpdate:modelValue":t[10]||(t[10]=function(e){return r.register.email=e}),placeholder:"電子郵件"},null,512),[[i["J"],r.register.email]]),Object(i["O"])(Object(i["g"])("input",{type:"password","onUpdate:modelValue":t[11]||(t[11]=function(e){return r.register.password=e}),placeholder:"密碼"},null,512),[[i["J"],r.register.password]]),Object(i["O"])(Object(i["g"])("input",{type:"text","onUpdate:modelValue":t[12]||(t[12]=function(e){return r.register.phone=e}),placeholder:"手機號碼"},null,512),[[i["J"],r.register.phone]]),Object(i["g"])("button",{class:"registerBtn",onClick:t[13]||(t[13]=function(){return O.userRegistration&&O.userRegistration.apply(O,arguments)})},"歡迎加入")]))])])])}Object(i["v"])();n("159b");var f=n("ea7b"),j=n("e71f"),m=n("ee2e"),h={data:function(){return{action:"login",login:{email:"ujhy669917@gmail.com",password:"123123123"},register:{name:"",email:"",password:"",phone:""},pdWrong:!1,emailWrong:!1,emailInvalid:!1,emailRegisted:!1}},methods:{userLogin:function(){var e=this;Object(f["e"])(m["a"],this.login.email,this.login.password).then((function(){e.$router.go(-1),e.handleUserCart(),alert("Successfully login!.")})).catch((function(t){var n=t.code;e.emailWrong="auth/user-not-found"==n,e.pdWrong="auth/wrong-password"==n}))},userRegistration:function(){var e=this;Object(f["a"])(m["a"],this.register.email,this.register.password).then((function(){alert("註冊成功!");var t={name:e.register.name,email:e.register.email,password:e.register.password,phone:e.register.phone};Object(j["a"])(Object(j["b"])(m["b"],"users"),t).then((function(e){console.log("以添加文檔至forestore"+e.id)}))})).catch((function(t){var n=t.code;e.emailInvalid="auth/invalid-email"==n,e.emailRegisted="auth/email-already-in-use"==n,setTimeout((function(){e.emailInvalid=!1,e.emailRegisted=!1}),2e3)}))},handleUserCart:function(){var e=this,t=Object(j["h"])(Object(j["b"])(m["b"],"users"),Object(j["j"])("email","==",this.login.email));Object(j["f"])(t).then((function(t){t.forEach((function(t){var n=Object(j["b"])(m["b"],"users",t.id,"cart");if(null!==localStorage.getItem("products_in_cart")){var i=JSON.parse(localStorage.getItem("products_in_cart"));i.forEach((function(e){Object(j["a"])(n,e)}))}Object(j["f"])(n).then((function(t){console.log(t),e.$store.commit("setCart",t.size)})),localStorage.clear("products_in_cart")}))}))},sendPasswordResetEmail:function(){var e=this;Object(f["d"])(m["a"],this.user.email).then((function(){alert("已傳送至"+e.user.email+"信箱中")}))}}};n("62bc");h.render=O,h.__scopeId="data-v-9e7a222a";t["default"]=h},b0c0:function(e,t,n){var i=n("83ab"),a=n("9bf2").f,r=Function.prototype,c=r.toString,o=/^\s*function ([^ (]*)/,l="name";i&&!(l in r)&&a(r,l,{configurable:!0,get:function(){try{return c.call(this).match(o)[1]}catch(e){return""}}})}}]);
//# sourceMappingURL=chunk-0821d4a6.08161699.js.map